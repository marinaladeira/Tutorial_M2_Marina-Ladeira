<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currículo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body><body>
  <h1>Mauri</h1> <!--Inserir dados na tabela Mauri-->
  <ul id="mauri-list"></ul>
  <form id="inputs">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome"><br><br>
      <label for="cargo">Cargo:</label>
      <input type="text" id="cargo" name="cargo"><br><br>
      <label for="User_id">User_id:</label>
      <input type="number" id="User_id" name="User_id"><br><br>
      <h1>Experiências</h1>
      <ul id="experiencias-list"></ul>
      <label for="empresa">Empresa:</label>
      <input type="text" id="empresa" name="empresa"><br><br>
      <label for="data">Data:</label>
      <input type="date" id="data" name="data"><br><br>
      <label for="descricao">Descrição:</label>
      <input type="text" id="descricao" name="descricao"><br><br>
      <h1>Formação</h1>
      <ul id="formacao-list"></ul>
      <label for="titulo">Título:</label>
      <input type="text" id="titulo" name="titulo"><br><br>
      <label for="data">Data:</label>
      <input type="date" id="data" name="data"><br><br>
      <label for="instituicao">Instituição:</label>
      <input type="text" id="instituicao" name="instituicao"><br><br>
      <label for="Formacao_id">Formacao_id:</label>
      <input type="number" id="Formacao_id" name="Formacao_id"><br><br>
      <h1>Realizações</h1>
      <ul id="realizacoes-list"></ul>
      <label for="nomereali">Nome:</label>
      <input type="text" id="nomereali" name="nomereali"><br><br>
      <label for="data">Data:</label>
      <input type="date" id="data" name="data"><br><br>
      <label for="descricao">Descrição:</label>
      <input type="text" id="descricao" name="descricao"><br><br>
      <label for="Realizacao_id">Realizacao_id:</label>
      <input type="number" id="Realizacao_id" name="Realizacao_id"><br><br>
      <button type="button" onclick="addData()">Adicionar</button>
  </form>


<script>
  // Recupera os dados do arquivo CRUD
  crud_cv.getAllExperiencias().then((experiencias) => {
    const $experienciasList = $('#experiencias-list');
    experiencias.forEach((experiencia) => {
      const $li = $('<li>').text(`${experiencia.Empresa} - ${experiencia.Data} - ${experiencia.Descrição}`);
      $experienciasList.append($li);
    });
  });

  crud_cv.getAllMauri().then((mauri)=> {
    const $maurilist = $('#mauri-list')
    mauri.forEach((m)=> {
        const $li = $('<li>').text(`${m.nome} - ${m.Cargo} - ${m.user_id}`);
        $maurilist.append($li)
    })
  })

  crud_cv.getAllRealizações().then((realizações)=>{
    const $realizlist = $('#realizacoes-list')
    realizações.forEach((realizacao)=> {
        const $li = $('<li>').text(`${realizacao.nome} - ${realizacao.Data} - ${realizacao.User_id} - ${realizacao.Descrição}`)
        $realizlist.append($li)
    })
  })

  crud_cv.getAllFormação().then((formação) =>{
    const $formlist = $('#formacao-list')
    formação.forEach((formacao) =>{
        const $li = $('<li>').text(`${formacao.Título} - ${formacao.Data} - ${formacao.Instituição} - ${formacao.user_id}`)
        $formlist.append($li)
    })
  })
  document.getElementById("add-button").addEventListener("click", addData);

  //Adiciona informações inseridas no banco de dados 
  function addData() {
    const mauri = {
      nome: $('#nome').val(),
      Cargo: $('#cargo').val(),
      user_id: $('#User_id').val()
    };
    const experiencia = {
      Empresa: $('#empresa').val(),
      Data: $('#data').val(),
      Descrição: $('#descricao').val(),
      User_id: $('#User_id').val()
    };
    const realizacao = {
      nome: $('#nomereali').val(),
      Data: $('#data').val(),
      Descrição: $('#descricao').val(),
      User_id: $('#User_id').val()
    };
    const formacao = {
      Título: $('#titulo').val(),
      Data: $('#data').val(),
      Instituição: $('#instituicao').val(),
      user_id: $('#User_id').val()
    };
    
    crud_cv.addMauri(mauri).then(() => {
      $('#mauri-list').append($('<li>').text(`${mauri.nome} - ${mauri.Cargo} - ${mauri.user_id}`));
    });
    crud_cv.addExperiencia(experiencia).then(() => {
      $('#experiencias-list').append($('<li>').text(`${experiencia.Empresa} - ${experiencia.Data} - ${experiencia.Descrição}`));
    });
    crud_cv.addRealizacao(realizacao).then(() => {
      $('#realizacoes-list').append($('<li>').text(`${realizacao.nome} - ${realizacao.Data} - ${realizacao.User_id} - ${realizacao.Descrição}`));
    });
    crud_cv.addFormacao(formacao).then(() => {
      $('#formacao-list').append($('<li>').text(`${formacao.Título} - ${formacao.Data} - ${formacao.Instituição} - ${formacao.user_id}`));
    });
  }

</script>

  </body>
</html>
